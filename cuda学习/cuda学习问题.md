基于cuda的GPU并行程序开发



p184

线程块和图像的大小对性能的影响?

存储密集型 ——每个线程块需要赋值的字节数  Threads的值大小会影响每个block

线程块的编号计算简单，可以减少时间



索引的计算会变得更加复杂



**问题**

数据对齐？？？

共享内存 寄存器？？？

**注意点：**

任何程序线程块之间都不能互相依赖

线程束是程序的执行单位，线程块是程序的启动单位

原子操作在Fermi架构上的处理非常慢， 但是在Pascal中，速度会块几个数量级

pascal中if判断性能损失几乎可以忽略不计算

使用共享内存时候要在最大内存的限制内

GPU使用stream的时候，是否支持Overlap





GPU不存在乱序执行和L1$之间的缓存一致性



性能优化相关

计算核函数的数据移动量



0、提前计算更多的函数参数

1、使用合适的维度，减少除法或其他运算

2、选择适当的block和gride尺寸，避免线程浪费

3、减少if语句，消除**线程发散**（只有当32个线程完全相同是，GPU才能发挥最佳效果）



















**其实你，是个心狠又手辣的小偷** 

**我的心，我的呼吸和名字都偷走** 

你才是绑架我的凶手，机车后座的我吹着风，逃离了平庸

**这星球天天有五十亿人在错过 ，多幸运有你一起看星星在争宠**

这一刻不再问为什么，不再去猜测**人和人，心和心，有什么不同** 

**一二三牵着手，四五六抬起头 ，七八九我们私奔到月球** 

**让双脚去腾空，让我们去感受 ，那无忧的真空，那月色纯真的感动** 

**当你说太聪明往往还是会寂寞 ，我笑着倾听孤单终结后的寂寞**

看月亮像夜空的瞳孔，静静凝视你我，和我们闹嚷的星球

**靠近你怎么突然两个人都词穷，让心跳像是野火燎原般的汹涌** 

这一刻让命运也沉默，让脚尖划过  **天和天，地和地，缘分的宇宙**

**一二三牵着手，四五六抬起头 ，七八九我们私奔到月球** 

**让双脚去腾空，让我们去感受 ，那无忧的真空，那月色纯真的感动**