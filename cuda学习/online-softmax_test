Softmax correctness check:
Comparing Naive Softmax and Safe Softmax: Max diff = 1.86265e-09, Avg diff = 2.67662e-10
Comparing Naive Softmax and Online Softmax: Max diff = 2.32831e-09, Avg diff = 3.11954e-10
TopK correctness check:
TopK: 0 mismatches
Softmax+TopK correctness check:
Safe Softmax + TopK fused: 0 mismatches, comparing to CPU reference implementation: Max diff = 4.19095e-09, Avg diff = 1.18651e-09
Online Softmax + TopK fused: 0 mismatches, comparing to CPU reference implementation: Max diff = 4.19095e-09, Avg diff = 1.19768e-09
Softmax benchmark:


数值含义 a = V * batch_size / runtime  (runtime =  elapsedTime / run_iterations * 0.001F)
a越大，速度越快

Batch size = 4000
           V        NaiveSoftmax         SafeSoftmax       OnlineSoftmax                TopK        SafeSoftmaxUnfusedTopK          SafeSoftmaxFusedTopK        OnlineSoftmaxFusedTopK
          63         3.65611e+08         7.89081e+07         8.19169e+07         1.54111e+07                   1.27634e+07                   1.06351e+07                   1.30213e+07
         126         6.88783e+08         1.48373e+08         1.53192e+08         2.90661e+07                   2.45051e+07                   2.04818e+07                   2.44406e+07
         252         1.22822e+09         2.74516e+08         2.61735e+08          5.2205e+07                   4.38134e+07                   3.82033e+07                   4.51338e+07
         504         1.97648e+09         4.49467e+08         3.90221e+08         8.54534e+07                   7.23777e+07                   6.75234e+07                   7.80361e+07
        1008         2.08994e+09          4.3052e+08         3.86064e+08         1.28583e+08                   1.07962e+08                   1.10775e+08                   1.23072e+08
        2016         1.97098e+09         3.94736e+08         3.64899e+08         1.22578e+08                   1.03199e+08                   1.04273e+08                   1.17382e+08
        4032         1.74911e+09          2.3443e+08         2.73959e+08         1.13815e+08                   9.54096e+07                   9.45768e+07                   1.07969e+08
        8064         2.66972e+09         3.75311e+08         3.92572e+08         9.94891e+07                   7.86308e+07                   5.45722e+07                   9.26051e+07
       16128         3.65539e+09          5.2982e+08         5.14258e+08          1.4788e+08                   1.15525e+08                   8.80348e+07                   1.44942e+08
       32256         4.50952e+09          6.6582e+08         6.13589e+08          2.0691e+08                   1.57928e+08                   1.32065e+08                    2.0934e+08
       64512         5.05878e+09         7.71878e+08         6.87159e+08         2.81738e+08                   2.06208e+08                   1.86818e+08                   2.83286e+08
Batch size = 10
           V        NaiveSoftmax         SafeSoftmax       OnlineSoftmax                TopK        SafeSoftmaxUnfusedTopK          SafeSoftmaxFusedTopK        OnlineSoftmaxFusedTopK
          63         1.74418e+07         7.58735e+06         5.49384e+06          1.0747e+06                        924764                        940574                        921350
         126         3.14588e+07         1.39122e+07         9.44977e+06         1.92836e+06                   1.72433e+06                   1.85614e+06                   1.75911e+06
         252         5.42992e+07         2.50207e+07         1.54911e+07         3.41808e+06                   3.03357e+06                   3.34081e+06                   3.12831e+06
         504         8.51575e+07         4.15336e+07         2.27842e+07         5.64294e+06                   5.02669e+06                   6.02032e+06                   5.48753e+06
        1008         1.64197e+08         7.98851e+07         4.48749e+07         8.41758e+06                   7.43638e+06                   9.78578e+06                   8.53351e+06
        2016         2.98244e+08         1.43945e+08         8.04928e+07         1.55553e+07                   1.36641e+07                   1.77963e+07                     1.561e+07
        4032         4.60633e+08         2.26281e+08         1.36162e+08          2.8037e+07                   2.48451e+07                   3.13068e+07                   2.77664e+07
        8064         6.94588e+08         3.62835e+08         1.95565e+08          4.8412e+07                   4.26204e+07                   5.18385e+07                   4.61225e+07
       16128         9.36702e+08         5.19485e+08         2.55704e+08         7.19035e+07                   6.30403e+07                   8.37503e+07                    7.1914e+07
       32256         1.09309e+09          6.4246e+08         3.01448e+08          1.0028e+08                   8.93661e+07                   1.30278e+08                   1.06416e+08
       64512         1.27343e+09         7.77868e+08         3.50823e+08         1.41183e+08                   1.18971e+08                   1.85449e+08                   1.43399e+08
      129024         1.35404e+09         8.44446e+08          3.7303e+08         1.88243e+08                   1.53973e+08                   2.49037e+08                   1.82029e+08
      258048         1.40956e+09         8.88231e+08         3.89302e+08         2.37599e+08                   1.87306e+08                   3.11151e+08                   2.15402e+08
      516096         1.43654e+09         9.11545e+08          3.9908e+08         2.91446e+08                   2.21524e+08                   3.72768e+08                   2.45562e+08
     1032192         1.44952e+09         9.21458e+08         4.03074e+08         3.35989e+08                   2.45848e+08                   4.17936e+08                   2.63809e+08
     2064384         1.44724e+09         9.23828e+08         4.05015e+08         3.69755e+08                   2.64108e+08                   4.48109e+08                   2.75923e+08
     4128768         1.44607e+09         9.19018e+08         4.04565e+08         3.88654e+08                   2.73009e+08                   4.64276e+08                   2.82941e+08
     8257536         1.43304e+09         8.90034e+08         3.92713e+08         3.89534e+08                   2.70308e+08                   4.55211e+08                   2.76519e+08
